---
id: current_trigger
title: 電流トリガーモジュール
sidebar_label: 電流トリガーモジュール
---

## 概要

電流トリガーモジュールは、稼働時と非稼働時に差がある機器を取り付けて設定された電流値(50mA)を超えたことをきっかけに外部出力端子を動作させます。
外部出力ポートがない機器と組み合わせて使用する（例：トレイルカメラ）ことで他の機器と連動させて動かせるようになります。

外部出力端子は、NPNオープンコレクタ出力となっています。

![](/img/docs/current_trigger/io.jpg)
![](/img/docs/current_trigger/connecter.jpg)

### 仕様

電源と電流電圧の計測部は絶縁されています。
（24V環境で使用したい場合はカスタマイズ品として提供可能です。その場合は[問い合わせ](https://hirameq.jp/contact)よりご連絡ください）

- 電源: 5-12V(最大15V)
- ESP32 S3搭載
- 電流センサー: INA226
- シャント抵抗: 0.002Ω
- I2Cモニタ接続ソケット（SSD1306）
- サイズ: 50.6 × 96.6 × 32.3
- 計測範囲
    - 電流: -20A ~ +20A(分解能 1.25mA)
    - 電圧: 0V ~ 36V(分解能 1.25mV)
- 入出力　基本的に12V環境を想定しています
    - NPNオープンコレクタ出力　無電圧　稼働時電源のマイナスと接続します
    - 5-12V入力　入力抵抗1kΩ　電圧を与えると、与えている間電圧計測を中断します
    - RS485(裏面に120Ω実装済み　使用する場合は半田でジャンバーをつないでください)

![](/img/docs/current_trigger/sample.jpg)

|ESP32 S3 IO|接続部品|
|---|---|
|3|RS485 TX|
|4|Input|
|5|Output|
|7|LED|
|8|SDA|
|9|SCL|
|10|RS485 Data Enable|
|11|RS485 RX|
|12|SW1|
|13|SW2|
|14|SW3|
|21|SW4|
|38|Button|

[FLINT ESP Programmer](https://www.switch-science.com/products/8121) の配線に合わせて基板のコネクタがあります(GNDの向きで合わせてください)。
ESP32のプログラムを作成してプログラムの書き換えが可能です。
    
## 特徴

電流計測を元にするため、電源供給の部分に一工夫するだけで機器の動作状況を把握できます。

既存のセンサーとしても多くあるNPN接続での出力をサポートしているため、容易に他の機器と接続が可能です。

実例としては、トレイルカメラという赤外線に反応したら画像撮影をする機器と本製品を組み合わせて、山間部の獣害対策機器を連動させるといった実例があります。

![](/img/docs/current_trigger/trailcamera.jpg)

Contactより連絡いただければ24Vで稼働するモデルなど用途に合わせた形にカスタマイズして納品も可能です。

またプログラムを作成することで例えば下記のようなアイデアを実現可能です。

- 電圧や電流値を無線LAN経由でネットワークに送信する
- RS485を用いて他の機器と連携する

## Link集
